"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},_createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();!function(t){if(window.ui)return void ui.warn("ERROR: You are including ui.js multiple times");var e=function(){function t(e,i,o){_classCallCheck(this,t),this.callback=e,this.delay=i,this.config=_extends({leading:!0,trailing:!0},o),this.lastInvoke=0,this.lastCall=0,this.invokeCallback=this.invokeCallback.bind(this)}return _createClass(t,[{key:"cancelTimer",value:function(){clearTimeout(this.timerId),this.timerId=void 0}},{key:"clearArguments",value:function(){this.lastArgs=void 0}},{key:"execute",value:function(t){var e=this.config,i=e.leading,o=e.trailing;if(!i&&!o)return void ui.warn("You must have either a trailing or leading enabled in your throttle/debounce");var n=Date.now();this.lastArgs=t,this.leadingEdge(n),this.lastCall=n,this.trailingEdge()}},{key:"inProgress",value:function(){return void 0!==this.timerId}},{key:"invokeCallback",value:function(t){this.lastInvoke=t,this.callback.apply(this,_toConsumableArray(this.lastArgs)),this.clearArguments()}},{key:"leadingEdge",value:function(t){this.shouldInvokeLeading(t)&&this.invokeCallback(t)}},{key:"reset",value:function(){this.cancelTimer(),this.clearArguments(),this.lastCall=0,this.lastInvoke=0}},{key:"shouldInvokeLeading",value:function(t){var e=this.config,i=e.leading,o=e.debounce;if(!i)return!1;var n=t-this.lastCall,a=t-this.lastInvoke,s=n>=this.delay,l=a>=this.delay||0===a;return o?s:l}},{key:"shouldInvokeTrailing",value:function(){var t=this.config,e=t.trailing,i=t.debounce;return e&&(i||!this.inProgress())}},{key:"startTimer",value:function(t){return this.config.debounce&&this.cancelTimer(),setTimeout(t.bind(this),this.delay)}},{key:"trailingEdge",value:function(){this.shouldInvokeTrailing()&&(this.timerId=this.startTimer(this.timerExpired))}},{key:"timerExpired",value:function(){this.lastCall===this.lastInvoke||(this.invokeCallback(Date.now()),this.reset())}}]),t}();window.ui={debounce:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._throttle(t,e,{leading:i,trailing:!0,debounce:!0})},deleteCookie:function(t){document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"},escapeRegExp:function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},focusable:function(t,e){var i=t.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(i)?!t.disabled:"a"===i?t.href||e:e)&&this.visible(t)},getCookie:function(t){for(var e=t+"=",i=document.cookie.split(";"),o=i.length,n=void 0,a=0;a<o;a++)if(n=i[a].trim(),0===n.indexOf(e))return n.substring(e.length,n.length);return""},getDictionaryCookie:function(t,e){var i=this.getCookie(t);if(!i.length)return"";for(var o=i.split("&"),n=e+"=",a=o.length-1;a>=0;a--)if(-1!==o[a].indexOf(n))return o[a].substr(o[a].indexOf(n)+n.length);return""},getRandomNumber:function(t,e){return isNaN(t)||isNaN(e)?Date.now().toString()+Math.floor(1e3*Math.random()+1):Math.floor(Math.random()*(1+e-t)+t)},getTabbableElements:function(t){var e=this;return t.find(this.tabbableTags).filter(function(t,i){return e.tabbable(i)})},getUrlParameterValue:function(t,e,i){for(var o=e?(e.split(/\?(.+)?/)[1]||"").split(/#(.+)?/)[0]:window.location.search.substring(1),n=o.replace(/&amp;/g,"&").split("&"),a=n.length,s=t,l=0;l<a;l++){var r=n[l].split("=");if(i||(s=s.toLowerCase(),r[0]=r[0].toLowerCase()),decodeURIComponent(r[0])===s)return r[1]?decodeURIComponent(r[1]):""}},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},isValidCallback:function(e){return e&&t.isFunction(e)},keyCodes:{down:40,enter:13,esc:27,left:37,leftBracket:219,right:39,rightBracket:221,shift:16,tab:9,up:38},lang:function(){var t=document.querySelector("[lang]");return t?t.getAttribute("lang").toLowerCase():"en"}(),localize:function(t,e){return t[this.lang]&&t[this.lang][e]?t[this.lang][e]:t[this.lang.substring(0,2)]&&t[this.lang.substring(0,2)][e]?t[this.lang.substring(0,2)][e]:t.en[e]||""},numberToLocaleString:function(t,e){try{return t.toLocaleString(this.lang,e)}catch(e){return t.toLocaleString()}},setCookie:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.hostname.replace(/.+?\./,"."),n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"/",a=new Date;a.setTime(a.getTime()+864e5*i);var s="expires="+a.toUTCString();document.cookie=t+"="+e+"; "+s+";domain="+o+";path="+n},setDictionaryCookie:function(t,e,i,o,n,a){var s=t.toUpperCase(),l=e.toUpperCase(),r=this.getCookie(s);if(null===r||void 0===r)r=l+"="+i;else{var c=r.toLowerCase(),u=c.indexOf(l.toLowerCase()+"=");if(-1===u)r.length>0&&(r+="&"),r=""+r+l+"="+i;else{var h=c.indexOf("&",u);-1===h?r=0===u?l+"="+i:""+r.substring(0,u)+l+"="+i:(c=r,r="",u>0&&(r=c.substring(0,u)),r=""+r+l+"="+i+c.substring(h))}}this.setCookie(s,r,o,n,a)},tabbableTags:"[tabindex], a, button, input, object, select, textarea",tabbable:function(e){var i=t.attr(e,"tabindex"),o=isNaN(i);return(o||i>=0)&&this.focusable(e,!o)},_throttle:function(t,i,o){var n=new e(t,i,o),a=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.execute(e)};return a.cancel=function(){return n.cancelTimer()},a.isThrottled=!0,a},throttle:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this._throttle(t,e,{leading:o,trailing:!i})},timer:function(t,e){var i=void 0,o=e,n=void 0,a="stopped",s={pause:function(){"play"===a&&(clearTimeout(i),o-=new Date-n,a="pause")},stop:function(){"stopped"!==a&&(clearTimeout(i),o=e,a="stopped")},play:function(){"play"!==a&&(n=new Date,clearTimeout(i),i=setTimeout(function(){t(),o=e},o)),a="play"}};return s.play(),s},ucfirst:function(t){return""+t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()},visible:function(e){var i=t.expr.filters.visible(e),o=!t(e).parents().addBack().filter(function(e,i){return"hidden"===t.css(i,"visibility")}).length;return i&&o},warn:function(t,e){window.console&&(console.warn(t),e&&/ancestry(?:stage|dev)/.test(window.location.hostname)&&window.alert(t))}}}(jQuery),function(t){if(t.alert)return void ui.warn("ERROR: You are including alert.js multiple times");var e={create:function(e,i){var o=e.data("alertInstance");return o&&o.destroy(),o=Object.create(this.proto),o.$element=e,o.config=_extends({},this.staticProperties.defaults,o._getOptionsByClass(),i),o.uniqueId=e.attr("id")||"alert-"+ui.getRandomNumber(),o.shouldAnimate=!0===o.config.animation&&(t("body").find(e).length&&!ui.visible(e[0])||!o.config.open),o.animateDuration=410,o.hasFocusableChildren=o._hasTabbableElements(),e.attr(o._getAttributes()),o._initClasses(),o.isOpen=!1,o.marginTop=o._getAlertMargin("top"),o.marginBottom=o._getAlertMargin("bottom"),"notification"===o.config.display?(o.shouldAnimate=!1!==o.config.animation,o._addOrRemoveNotification(),o.config.closeable=!0,o.config.removable=!0):"overlay"===o.config.display&&(o.center(),t(window).on("resize.alert."+o.uniqueId+" orientationchange.alert."+o.uniqueId,ui.debounce(function(){o.center()},100)),o.config.closeable=!0),o.config.open&&o.open(),o.config.closeable&&o._createCloseButton(),e.data("alertInstance",o),o},proto:{_addOrRemoveNotification:function(){t("#alertNotifications").length||t('<div id="alertNotifications" class="alertNotifications" aria-live="polite"></div>').appendTo("body"),this.$element.parents("#alertNotifications").length||this.$element.prependTo("#alertNotifications")},center:function(){if("overlay"===this.config.display){this.$element.css({display:"inline-block",position:"relative",width:"auto"});var t=Math.ceil(this.$element[0].getBoundingClientRect().width);this.$element.css({display:"","margin-left":"-"+Math.floor(t/2)+"px",position:"",width:t})}},close:function(){var t=this;if(this.isOpen)if(this.$element.trigger("closing.alert"),this.config.animation){var e=this.$element.hasClass("alertSitewide")||this.$element.is(":first-child"),i=this.$element.hasClass("alertContextualTop");this.$element.addClass("alertHiding"),i?this.$element.css("margin-top",this.marginTop-this.$element.outerHeight(e)):this.$element.css("margin-bottom",this.marginBottom-this.$element.outerHeight(e)),setTimeout(function(){return t._closed()},this.animateDuration)}else this._closed()},_closed:function(){this.$element.addClass("alertHidden").css("margin-bottom",""),ui.isValidCallback(this.config.onClose)&&this.config.onClose.apply(this.$element,[this.$element]),this.durationTimer&&this.durationTimer.stop(),this.isOpen=!1,this.shouldAnimate=this.config.animation,this.$element.trigger("closed.alert"),this.config.removable&&this.destroy()},_createCloseButton:function(){var i=this,o=this.$element.find(".alertCloseBtn");o.length?o.addClass("closeBtn").empty():(o=t('<button class="closeBtn alertCloseBtn" type="button" aria-label="'+ui.localize(e.staticProperties.langSets,"closeBtn")+'"></button>'),this.$element.append(o)),this.$element.addClass("alertCloseable"),o.on("click.alert",function(){i.close()})},destroy:function(){t(window).off(".alert."+this.uniqueId),this.config.removable?this.$element.remove():this.$element.off(".alert").removeData("alertInstance").removeClass("alertCloseable alertContextualBottom alertContextualTop alertInfo alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess").find(".closeBtn").remove()},_getAttributes:function(){var t={role:this.$element.attr("role"),"aria-label":this.$element.attr("aria-label")};return this.$element.attr("role")||(this.hasFocusableChildren?(t.role="alertdialog",t.tabindex=this.$element.attr("tabindex")||"-1"):"warning"===this.config.type||"success"===this.config.type?t.role="alert":t.role="status"),this.$element.attr("aria-label")||(t["aria-label"]=this.$element.contents().first().text()),t},_getAlertMargin:function(t){var e=parseInt(this.$element.css("margin-"+t),10);return isNaN(e)?0:e},_getOptionsByClass:function(){var t={};return this.$element.hasClass("alertSuccess")?t.type="success":(this.$element.hasClass("alertInfo")||this.$element.hasClass("alertNote"))&&(t.type="info"),this.$element.hasClass("alertSitewide")?t.display="sitewide":this.$element.hasClass("alertNotification")?t.display="notification":this.$element.hasClass("alertSection")?t.display="section":this.$element.hasClass("alertOverlay")&&(t.display="overlay"),this.$element.hasClass("alertContextualBottom")?t.location="bottomRight":this.$element.hasClass("alertContextualTop")&&(t.location="topRight"),this.$element.hasClass("alertSlim")&&(t.size="slim"),this.$element.hasClass("alertHidden")&&(t.open=!1),this.$element.hasClass("alertCloseable")&&(t.closeable=!0),t},_hasTabbableElements:function(){var e=t(this.$element),i=0;return e.children().each(function(e,o){ui.tabbable(o)&&!t(o).hasClass("alertCloseBtn")&&(i+=1)}),i>0},_initClasses:function(){this.$element.addClass("alert").removeClass("alertCloseable alertInfo alertNotification alertOverlay alertSection alertSitewide alertSlim alertSuccess");var t={notification:"alertNotification",overlay:"alertOverlay",section:"alertSection",sitewide:"alertSitewide"};t[this.config.display]&&this.$element.addClass(t[this.config.display]);var e={bottomRight:"alertContextualBottom",topRight:"alertContextualTop"};e[this.config.location]&&this.$element.addClass(e[this.config.location]);var i={success:"alertSuccess",info:"alertInfo",note:"alertInfo"};i[this.config.type]&&this.$element.addClass(i[this.config.type]),!0===this.config.closeable&&this.$element.addClass("alertCloseable"),"slim"===this.config.size&&this.$element.addClass("alertSlim"),this.config.open?this.config.open&&this.$element.removeClass("alertHidden alertHiding"):this.$element.addClass("alertHidden alertHiding")},open:function(){var t=this;if(!this.isOpen)if(this.$element.trigger("opening.alert"),this.shouldAnimate){var e=this.$element.removeClass("alertHidden").outerHeight(!1),i=this.$element.hasClass("alertContextualTop");this.$element.addClass("alertNoTransition"),i?this.$element.css("margin-top",this.marginTop-e):this.$element.css("margin-bottom",this.marginBottom-e),setTimeout(function(){t.$element.removeClass("alertNoTransition alertHiding").css({"margin-bottom":"","margin-top":""})},10),setTimeout(function(){return t._opened()},this.animateDuration)}else this.$element.removeClass("alertHidden alertHiding"),this._opened()},_opened:function(){var t=this;this.hasFocusableChildren&&this.$element.focus(),this.config.duration>0&&(this.durationTimer=ui.timer(function(){t.close()},this.config.duration),this.$element.on("mouseenter.alert",function(){t.durationTimer.pause()}).on("mouseleave.alert",function(){t.durationTimer.play()})),ui.isValidCallback(this.config.onOpen)&&this.config.onOpen.apply(this.$element,[this.$element]),this.isOpen=!0,this.$element.trigger("opened.alert")}},staticProperties:{defaults:{animation:!0,closeable:!1,display:"inline",location:!1,duration:-1,removable:!1,onClose:!1,onOpen:!1,open:!0,type:"warning"},langSets:{de:{closeBtn:"Warnung schlie&#223;en"},en:{closeBtn:"Close alert"},es:{closeBtn:"Cerrar alerta"},fr:{closeBtn:"Fermer l&#8217;alerte"},it:{closeBtn:"Chiudi avviso"},sv:{closeBtn:"St&#228;ng meddelande"}}}};t.fn.alert=function(i){for(var o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var s="string"==typeof i,l=this;return this.each(function(o,a){var r=t(a);if(s){var c=r.data("alertInstance");if(!c)return ui.warn('Cannot call methods on alert prior to initialization; attempted to call method "'+i+'".'),!1;if(!t.isFunction(c[i])||0===i.indexOf("_"))return ui.warn('No such method "'+i+'" for alert.'),!1;var u=c[i].apply(c,n);if(u!==c&&void 0!==u)return l=u&&u.jquery?l.pushStack(u.get()):u,!1}else e.create(r,i)}),l},t.alert={getTest:function(){return _extends({},e)}},t(function(){return t('.alert:not([data-auto-instantiate="off"])').alert()})}(jQuery),function(t){if(t.autocomplete)return void ui.warn("ERROR: You are including autocomplete.js multiple times");var e={create:function(e,i){var o=e.data("autocompleteInstance");if(o&&o.destroy(),!i.key)return void ui.warn('Autocomplete requires the "key" option.');t("#autocomplete").length||t("body").append('<div id="autocomplete"></div>'),o=Object.create(this.proto),o.config=_extends({},this.staticProperties.defaults,i);var n=o.config;n.minLength=Math.max(1,n.minLength),o.$element=e,o._run=ui.debounce(function(){return o._retrieveResults()},200),o.iOSFix=window.navigator.userAgent.match(/iPhone|iPad|iPod/i),o.cachedData={},o.isOpen=!1,o.staticAjaxResponse=[],o.screenTouches={},o.term="",o.$autocomplete=t("#autocomplete");var a=e.attr("id");return o.$container=t('<div id="'+a+'ResultCon" class="autocompleteCon" />'),o.$resultsList=t('<ul id="'+a+'Results" class="autocompleteResults loading" role="listbox" />'),e.addClass("autocompleteInput").attr({"aria-autocomplete":"list","aria-controls":a+"Results","aria-expanded":"false","aria-owns":a+"Results",autocomplete:"off",role:"combobox"}),o.$container.append(o.$resultsList),o.$autocomplete.append(o.$container),o.$container.on("click.autocomplete",function(){return o._handleResultsClick()}).on("keydown.autocomplete",function(t){return o._handleResultsKeydown(t)}),e.on("keydown.autocomplete",function(t){return o._handleInputKeydown(t)}).on("focusin.autocomplete",function(){return o._handleInputFocusin()}).on("input.autocomplete",function(){return o._handleInput()}).on("focusout.autocomplete",function(){return o._cancelRequest()}),e.data("autocompleteInstance",o),ui.isValidCallback(n.onCreate)&&n.onCreate.apply(e,[]),e.trigger("initialized.autocomplete"),o},proto:{_ajaxRequest:function(){var e=this.config,i={};e.queryParameter&&(i[e.queryParameter]=this.term);var o=!1,n=this,a={url:e.source,data:i,dataType:e.dataType,error:function(t,i,o){"abort"!==i&&(ui.warn("Autocomplete Source "+e.source+" cannot be reached"),ui.isValidCallback(e.onError)&&e.onError.apply(n.$element,[t,i,o]),n.close())},success:function(i){var a=[];if(ui.isValidCallback(e.jsonConversion))a=e.jsonConversion.apply(n.$element,[i,e]);else if("xml"===e.dataType){var s=t(i).find(e.key).parent();s.each(function(e,i){var o={};t(i).children().each(function(e,i){o[i.nodeName]=t(i).text()}),a.push(o)})}else a=i;o&&(n.staticAjaxResponse=a);var l=n._cacheResults(a);!l.length&&e.disableNoResultsMessage?n.close():(n._open(),n._populate(l))}};this.$resultsList.addClass("loading");var s=void 0;s=ui.isValidCallback(e.ajaxOverride)?e.ajaxOverride.apply(this.$element,[{url:a.url,data:a.data,dataType:a.dataType}]):e.ajaxOverride;var l=_extends({},a,s);t.isEmptyObject(l.data)&&(o=!0),this._cancelRequest(),this.ajaxRequest=t.ajax(l)},_bindMouseEvents:function(){var e=this;this.$container.on("mouseenter.autocomplete",".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)",function(i){return e.$focus=e._focusItem(t(i.currentTarget)),!0}).on("mouseleave.autocomplete",".autocompleteResult:not([aria-disabled]):not(.autocompleteNoResults)",function(t,i){return(t.relatedTarget||i)&&e._clearFocus(),!0})},_buildResult:function(e,i,o){var n=this,a=this.config,s={term:this.term,value:e[a.key],display:this._getHighlightedValue(this.term,e[a.key]),raw:e};ui.isValidCallback(a.customDisplay)&&(s=a.customDisplay.apply(this.$element,[s]));var l="autocompleteResult";!0===s.checked&&(l+=" autocompleteChecked iconAfter iconAfterCheck");var r='tabindex="0"';s.disabled&&(r='aria-disabled="true"');var c=o+"Autocomplete"+i,u=t("<li "+r+' class="'+l+'" role="option" aria-selected="false" id="'+c+'"><div class="textWrap">'+s.display+"</div></li>");return u.data({raw:e,value:s.value}),s.disabled||u.on("click.autocomplete",function(t){return n._handleResultClick(t)}),u},_cacheResults:function(t){var e=this;this.fullDataset=t;var i=[];return this.config.queryParameter?i=t:t.forEach(function(t){e._compare(t)&&i.push(t)}),this.cachedData[this.term.toLowerCase()]=i,i},_cancelRequest:function(){this.ajaxRequest&&"pending"===this.ajaxRequest.state()&&this.ajaxRequest.abort()},_clearFocus:function(){this.$focus&&(this.$focus.removeAttr("aria-selected").removeClass("autocompleteSelected"),this.$focus=!1)},close:function(){if(this.isOpen){var e=this.config;ui.isValidCallback(e.onClose)&&e.onClose.apply(this.$element,[this.$container,this.$before,this.$after]),this.$before&&(this.$before.remove(),this.$before=!1),this.$after&&(this.$after.remove(),this.$after=!1),(this.inModal||this.inCallout)&&this.$autocomplete.appendTo("body");var i=this.$element.attr("id");t(window).add("html").add("body").off(".autocomplete."+i),this._clearFocus(),this.$container.off("mouseenter.autocomplete mouseleave.autocomplete").removeClass("autocompleteVisible autocompleteInModal autocompleteInCallout"),this.$resultsList.empty(),this.$autocomplete.css("max-height",""),this.$element.attr("aria-expanded","false").removeClass("autocompleteAttached autocompleteInputInCallout"),this.isOpen=!1,this.$element.trigger("closed.autocomplete")}},_compare:function(t){var e=this.config,i=new RegExp(ui.escapeRegExp(this.term),"gi"),o=t[e.key]?t[e.key].search(i):-1;return e.matchBeginning&&0===o||!e.matchBeginning&&-1!==o},destroy:function(){this.close(),this.$element.add(this.$container).add(this.$resultsList).off(".autocomplete"),this.$element.removeClass("autocompleteInput").removeAttr("aria-autocomplete aria-controls aria-expanded aria-owns autocomplete role").removeData("autocompleteInstance raw"),this.$container.remove()},flush:function(){this.cachedData={}},_focusItem:function(t){return this._clearFocus(),t.addClass("autocompleteSelected").focus(),t.closest(this.$resultsList).length&&t.attr("aria-selected","true"),ui.isValidCallback(this.config.onFocus)&&this.config.onFocus.apply(this.$element,[t]),this.$element.trigger("itemFocused.autocomplete"),t},_getHighlightedValue:function(t,e){var i=this.config,o=e;if(i.highlight){var n=new RegExp(ui.escapeRegExp(t),"gi");if(!0===i.highlight)o=o.replace(n,function(t){return'<span class="autocompleteHighlighted">'+t+"</span>"});else{var a=new RegExp(ui.escapeRegExp(i.highlight.open),"g"),s=new RegExp(ui.escapeRegExp(i.highlight.close),"g");o=o.replace(a,'<span class="autocompleteHighlighted">').replace(s,"</span>")}}return o},_handleFocusOrMouseDownOnOtherElement:function(e){var i=t(e.target),o=!!i.closest(this.$container).length,n=this.inCallout&&i.is(".calloutContent"),a=i.is(this.$element);return o||n||a||this.close(),!0},_handleHtmlTouchendOrClick:function(e){var i=t(e.target),o=i.attr("for"),n=!!o&&t("#"+o),a=!!e.originalEvent.changedTouches&&Math.max(Math.abs(this.screenTouches.x-e.originalEvent.changedTouches[0].pageX),Math.abs(this.screenTouches.y-e.originalEvent.changedTouches[0].pageY))<5,s=!!i.closest(this.$autocomplete).length;return!!i.closest(this.$element).length||s||(!n||n.hasClass("autocompleteAttached"))&&(n||i.hasClass("autocompleteAttached"))||("click"===e.type||a)&&this.close(),!0},_handleHtmlTouchstart:function(t){return this.screenTouches.x=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,this.screenTouches.y=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY,!0},_handleInput:function(){this.$element.data("raw")&&(this.$element.removeData("raw"),ui.isValidCallback(this.config.onChange)&&this.config.onChange.apply(this.$element,[])),this._run()},_handleInputFocusin:function(){return this.isOpen?this._clearFocus():this._retrieveResults(),!0},_handleInputKeydown:function(t){var e=t.which;if(e===ui.keyCodes.tab||e===ui.keyCodes.esc)this.close();else if(e===ui.keyCodes.up||e===ui.keyCodes.down)return this._navigateListItems(e===ui.keyCodes.up),!1;return!0},_handleResultClick:function(e){var i=t(e.currentTarget);return!i.attr("aria-disabled")&&(this._selectItem(i),!0)},_handleResultsClick:function(){return this.inModal&&t.modal&&t.modal.preventClosing(),!0},_handleResultsKeydown:function(e){var i=e.which,o=t(e.target),n=!!o.closest(this.$resultsList).length,a=n&&i===ui.keyCodes.tab,s=n&&i===ui.keyCodes.enter,l=a||s,r=s||i===ui.keyCodes.esc||i===ui.keyCodes.up||i===ui.keyCodes.down||i===ui.keyCodes.leftBracket||i===ui.keyCodes.rightBracket,c=i===ui.keyCodes.esc||i===ui.keyCodes.tab&&!n,u=c||!r&&i!==ui.keyCodes.enter&&!o.is("input, textarea"),h=i===ui.keyCodes.up||i===ui.keyCodes.leftBracket,d=i===ui.keyCodes.down||i===ui.keyCodes.rightBracket;return l?this._selectItem(o):u?this.$element.focus():h?this._navigateListItems(!0):d?this._navigateListItems():c&&this.close(),!r},_navigateListItems:function(t){var e=ui.getTabbableElements(this.$container);if(!e.length)return!1;var i=!1;if(this.$focus){var o=t?e.first():e.last();if(!this.$focus.is(o)){var n=e.index(this.$focus),a=t?n-1:n+1;i=e.eq(a)}}else i=t?e.last():e.first();i?this.$focus=this._focusItem(i):this.$element.focus()},_open:function(){var e=this;if(this.inModal=this.$element.closest(".modal, #modal").length>0,this.inCallout=this.$element.closest("#callout").length>0,this.$resultsList.off("click.autocomplete.noResults").removeClass("loading autocompleteHasChecks").empty(),this.inCallout||this.position(),!this.isOpen){var i=this.config;ui.isValidCallback(i.onOpen)&&(this.$before=t('<div class="autocompleteBefore" />'),this.$after=t('<div class="autocompleteAfter" />'),i.onOpen.apply(this.$element,[this.$container,this.$before,this.$after]),this.$before.is(":empty")||this.$resultsList.before(this.$before),this.$after.is(":empty")||this.$resultsList.after(this.$after)),this.$element.addClass("autocompleteAttached").attr("aria-expanded","true"),this.$container.addClass("autocompleteVisible");var o=this.$element.attr("id");this.inCallout?(this.$element.addClass("autocompleteInputInCallout"),this.$container.addClass("autocompleteInCallout"),this.$element.parent(".labelIconOnly").length?this.$autocomplete.insertAfter(this.$element.parent()):this.$autocomplete.insertAfter(this.$element)):(t(window).on("resize.autocomplete."+o,ui.debounce(function(){return e.position(),!0},100)),this.inModal&&(this.$container.addClass("autocompleteInModal"),this.$autocomplete.appendTo(".modalFlex.open"))),t("html").on("touchstart.autocomplete."+o,function(t){return e._handleHtmlTouchstart(t)}).on("touchend.autocomplete."+o+" click.autocomplete."+o,function(t){return e._handleHtmlTouchendOrClick(t)}),t("body").on("focusin.autocomplete."+o+" mousedown.autocomplete."+o,function(t){return e._handleFocusOrMouseDownOnOtherElement(t)}),this.isOpen=!0,this._bindMouseEvents(),this.$element.trigger("opened.autocomplete")}},_populate:function(t){var i=this;if(ui.isValidCallback(this.config.onResponse)&&this.config.onResponse.apply(this.$element,[t]),this.populatedResults=t,t.length){var o=this.$element.attr("id");t.slice(0,this.config.maxResults).forEach(function(t,e){var n=i._buildResult(t,e,o);i.$resultsList.append(n)}),this.$resultsList.find(".autocompleteChecked").length&&this.$resultsList.addClass("autocompleteHasChecks")}else this.$resultsList.html('<li class="autocompleteResult autocompleteNoResults" role="alert" label="Search Results">'+ui.localize(e.staticProperties.langSets,"noMatches")+"</li>").on("click.autocomplete.noResults",function(){return!1}),this.$element.removeData("raw");this.$element.trigger("populated.autocomplete")},position:function(){this.$container.css("max-height","");var e=this.$element.offset(),i=Number(e.top+this.$element.outerHeight(!1));this.inModal&&(i+=t("#modalFixed").scrollTop(),this.iOSFix||(i-=t(window).scrollTop())),this.$container.css({left:e.left,top:i,width:this.$element.outerWidth(!1)}),this.$element.trigger("positioned.autocomplete")},_retrieveResults:function(){var e=this.term;this.term=this.$element.val();var i=this.term===e&&this.isOpen,o=t(document.activeElement).attr("id")===this.$element.attr("id");if(!i&&o){var n=this.config;if(this.term.length>=n.minLength){ui.isValidCallback(n.onSearch)&&n.onSearch.apply(this.$element,[this.term]);var a=void 0,s=void 0;Array.isArray(this.cachedData[this.term.toLowerCase()])?a=this.cachedData[this.term.toLowerCase()]:t.isFunction(n.source)?(s=ui.isValidCallback(n.jsonConversion)?n.jsonConversion.apply(this.$element,[n.source.apply(this.$element,[this.term])]):n.source.apply(this.$element,[this.term]),a=s):"object"===_typeof(n.source)?(s=ui.isValidCallback(n.jsonConversion)?n.jsonConversion.apply(this.$element,[n.source,n]):n.source,a=this._cacheResults(s)):"string"==typeof n.source&&(this.staticAjaxResponse&&this.staticAjaxResponse.length?a=this._cacheResults(this.staticAjaxResponse):this._ajaxRequest()),a&&(!a.length&&n.disableNoResultsMessage?this.close():(this._open(),this._populate(a)))}else n.alwaysOpenOnFocus&&!this.isOpen?this._open():!n.alwaysOpenOnFocus&&this.isOpen?this.close():this.$resultsList.empty()}},run:function(){ui.warn("DEPRECATION NOTICE: Please remove the \"autocomplete('run')\" method call."),this._run()},_selectItem:function(t){if(t&&this.$focus&&t[0]===this.$focus[0]){var e=this.config,i=t.data("raw");this.$element.data("raw",i).val(t.data("value")),ui.isValidCallback(e.onResultSelect)&&(ui.warn('DEPRECATION NOTICE: Please replace the autocomplete method "onResultSelect" with "onItemSelect"'),e.onResultSelect.apply(this.$element,[t])),ui.isValidCallback(e.onItemSelect)&&e.onItemSelect.apply(this.$element,[i])}else this.$element.removeData("raw");this.$element.focus(),this.close()}},staticProperties:{defaults:{ajaxOverride:{},alwaysOpenOnFocus:!1,customDisplay:!1,dataType:"json",disableNoResultsMessage:!1,highlight:!0,jsonConversion:!1,key:"",matchBeginning:!1,maxResults:20,minLength:3,onChange:!1,onClose:!1,onCreate:!1,onError:!1,onFocus:!1,onItemSelect:!1,onOpen:!1,onResponse:!1,onSearch:!1,queryParameter:!1,source:""},langSets:{de:{noMatches:"Keine &#220;bereinstimmungen gefunden"},en:{noMatches:"No matches found"},es:{noMatches:"No se encontraron concordancias"},fr:{noMatches:"Aucune correspondance trouv&#233;e"},it:{noMatches:"Nessuna corrispondenza trovata"},sv:{noMatches:"Inga matchningar hittades"}}}};t.fn.autocomplete=function(i){for(var o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var s="string"==typeof i,l=this;return this.each(function(o,a){var r=t(a);if(s){var c=r.data("autocompleteInstance");if(!c)return ui.warn('Cannot call methods on autocomplete prior to initialization; attempted to call method "'+i+'".'),!1;if(!t.isFunction(c[i])||0===i.indexOf("_"))return ui.warn('No such method "'+i+'" for autocomplete.'),!1;var u=c[i].apply(c,n);if(u!==c&&void 0!==u)return l=u&&u.jquery?l.pushStack(u.get()):u,!1}else e.create(r,i)}),l},t.autocomplete={close:function(){var e=t(".autocompleteAttached");e.length&&e.autocomplete("close")},getTest:function(){return _extends({},e)},position:function(){var e=t(".autocompleteAttached");e.length&&e.autocomplete("position")}}}(jQuery),function(t){if(t.callout)return void ui.warn("ERROR: You are including callout.js multiple times");var e={create:function(t,e){var i=t.data("calloutInstance");return i&&i.destroy(),i=Object.create(this.proto),i.$element=t,i.config=i._generateConfig(e),i.config.content?(i.uniqueId=t.attr("id")||"callout-"+ui.getRandomNumber(),i.isOpen=!1,i.modalOffset=0,i.$scrollable=t.closest(".calloutScrollPane"),"field"!==i.config.type&&t.attr("aria-expanded",!1),i._generateMarkup(),i.$content.html(i._parseContent()),i._initClasses(),i._addCreateEvents(),t.data("calloutInstance",i),i):void ui.warn("WARNING: You must provide a 'content' property to create a callout.")},proto:{_addCreateEvents:function(){var t=this,e=this.config;if("field"===e.type){var i=this.$element.is("select")?" mouseenter.callout.create":"";this.$element.on("focus.callout.create"+i,function(){t.open()}).on("click.callout.create",function(t){t.stopPropagation()})}else"hover"===e.type||"cursor"===e.type?this.$element.on("mouseenter.callout.create touchend.callout.create",ui.throttle(function(){t.hovering=!0,t.open()},100,!0)).on("mouseleave.callout.create",function(e){(e.relatedTarget||e.toElement)&&(t.hovering=!1,t._startCloseTimer())}):this.$element.on("click.callout.create",function(i){t.isOpen?"guidance"!==e.type&&t.close():(t.$element.is("a")&&i.preventDefault(),setTimeout(function(){t.open()}))})},_addOpenEvents:function(){var e=this,i=this.config;if("field"===i.type&&this.$element.on("blur.callout.open",function(){e.close()}),"custom"!==i.type&&"guidance"!==i.type){var o={};t("html").on("touchstart.callout."+this.uniqueId,function(t){o.x=t.originalEvent.touches?t.originalEvent.touches[0].pageX:t.pageX,o.y=t.originalEvent.touches?t.originalEvent.touches[0].pageY:t.pageY}).on("touchend.callout."+this.uniqueId+" click.callout."+this.uniqueId,ui.throttle(function(t){e._handleHtmlClick(t,o)},100,!0))}"hover"!==i.type&&"cursor"!==i.type||this.$wrap.on("mouseenter.callout",function(){e.hovering=!0,e._stopCloseTimer()}).on("mouseleave.callout",function(){e.hovering=!1,e._startCloseTimer()}),this.$content.on("keydown.callout",function(t){t.which===ui.keyCodes.tab&&e._handleTabPress(t)}),t(window).on("resize.callout."+this.uniqueId,ui.throttle(function(){e.isOpen&&(e.$element.is(":visible")?e.position():e.close())},50)),this.$scrollable.length&&this.$scrollable.on("scroll.callout."+this.uniqueId,ui.throttle(function(){e._inView()?e.position():e.close()},16))},
_applyPosition:function(t,e){var i=this._calculatePosition(t,e);if(this.$wrap.css(this._convertToTransform(i)),"field"!==this.config.type){var o=this._calculateAlignment(t);o.wrap&&this.$wrap.css(this._convertToTransform(o.wrap)),!this.config.hidePointer&&o.pointer&&this.$pointer.css(this._convertToTransform(o.pointer))}this.$wrap.removeClass("unpositioned")},_calculateAlignment:function(e){var i=this._getLocation(this.$wrap),o=this._getLocation(),n="left"===e||"right"===e;if(n?i.height<o.height:i.width<o.width)return{};var a=this._getLocation(t(window)),s={left:i.left,top:i.top},l={left:0,top:0},r=n?o.height/2:o.width/2,c="cursor"===this.config.type?21:Math.max(21,r),u=n?i.height/2:i.width/2,h=u-c,d=1,f=0;if(n){var p=a.scrollTop+a.padding,m=a.scrollTop+a.height-a.padding;i.top<p?f=p-i.top:i.bottom>m&&(d=-1,f=i.bottom-m);var g=d*Math.min(f,h);s.top=i.top+g,l.top=-g}else{var v=a.scrollLeft+a.padding,b=a.scrollLeft+a.width-a.padding;i.left<v?f=v-i.left:i.right>b&&(d=-1,f=i.right-b);var y=d*Math.min(f,h);s.left=i.left+y,l.left=-y}return{pointer:l,wrap:s}},_calculatePosition:function(e,i){var o=this,n=this._getLocation(this.$wrap),a=this._getLocation(),s={bottom:function(){return{left:a.center-n.width/2,top:a.bottom}},cursor:function(){return{left:i.pageX-n.width/2,top:i.pageY+20-o.modalOffset}},field:function(){var e=o._getLocation(t(window)),i=Math.max(180,a.width),n=e.width-e.padding,s=n-a.left,l=0;return s<i&&(l=i-s),{left:a.left-l,"max-width":i,top:a.bottom}},left:function(){return{left:a.left-n.width,top:a.middle-n.height/2}},right:function(){return{left:a.right,top:a.middle-n.height/2}},top:function(){return{left:a.center-n.width/2,top:a.top-n.height}}},l=e;return"field"===this.config.type?l="field":"cursor"===this.config.type&&(l="cursor"),s[l]()},close:function(){if(this.isOpen){var t=this.config;ui.isValidCallback(t.onClose)&&t.onClose.apply(this.$element,[this.$element]),this.$wrap.removeClass("open willTransform"),this.$pointer.removeClass("willTransform"),this.$element.removeClass("active"),"field"!==t.type&&this.$element.attr("aria-expanded",!1),this.hovering=!1,this._isFocusWithinCallout()&&this.$element.focus(),this._removeOpenEvents(),this.inModal&&this.$callout.appendTo("body"),this.isOpen=!1,this.$element.trigger("closed.callout")}},_convertToTransform:function(t){var e=t.left||0,i=t.top||0,o="translate("+Math.round(e)+"px, "+Math.round(i)+"px)",n={"-webkit-transform":o,transform:o};for(var a in t)t.hasOwnProperty(a)&&"left"!==a&&"top"!==a&&(n[a]=t[a]);return n},_createPlaceholder:function(t){t.before('<span class="noDisplay" id="calloutPlaceholder-'+this.uniqueId+'"></span>')},destroy:function(){this.close(),this._removeCreateEvents(),this._restorePlaceholder(),this.$wrap.remove(),this.$element.removeClass("calloutTrigger guidanceTrigger").removeAttr("aria-expanded").removeData("calloutInstance")},_generateConfig:function(t){var i=this._getConfigFromClasses(),o=this._getConfigFromDataAttributes(),n=_extends({},e.staticProperties.defaults,i,o,t);return this.$element.is("input, select, textarea")||"field"===n.type?(n.hidePointer=!0,n.position="bottom",n.style=t&&t.style?t.style:"dark",n.type="field"):"cursor"===n.type&&(n.position="bottom"),n},_generateMarkup:function(){t("#callout").length||t("body").append('<div id="callout"></div>'),this.$callout=t("#callout"),this.$wrap=t('<div class="callout" id="calloutWrap-'+this.uniqueId+'" />'),this.$content=t('<div class="calloutContent" tabindex="-1" />').appendTo(this.$wrap),this.$pointer=t('<div class="calloutPointer"><div class="calloutPointerShadow"></div></div>').appendTo(this.$wrap),this.$callout.append(this.$wrap)},_getBestPosition:function(t){var e=this.config,i="field"===e.type||"cursor"===e.type,o=t;return i||this._hasSpace(t)||(o="bottom"),o},_getConfigFromClasses:function(){var t=function(t,e){ui.warn("WARNING: Configuration via the '"+t+"' class has been deprecated. Please use the '"+e+"' attribute for configuration.")},e={};return this.$element.hasClass("calloutHidePointer")&&(t("calloutHidePointer","data-hide-pointer"),e.hidePointer=!0),this.$element.hasClass("calloutPositionTop")?(t("calloutPositionTop","data-position"),e.position="top"):this.$element.hasClass("calloutPositionRight")?(t("calloutPositionRight","data-position"),e.position="right"):this.$element.hasClass("calloutPositionLeft")&&(t("calloutPositionLeft","data-position"),e.position="left"),this.$element.hasClass("calloutStyleDark")?(t("calloutStyleDark","data-style"),e.style="dark"):this.$element.hasClass("calloutStyleAlt")&&(t("calloutStyleAlt","data-style"),e.style="alt"),this.$element.hasClass("calloutTypeHover")?(t("calloutTypeHover","data-type"),e.type="hover"):this.$element.hasClass("calloutTypeCursor")?(t("calloutTypeCursor","data-type"),e.type="cursor"):this.$element.hasClass("calloutTypeCustom")&&(t("calloutTypeCustom","data-type"),e.type="custom"),e},_getConfigFromDataAttributes:function(){var t={},i=this.$element.data();return Object.keys(e.staticProperties.defaults).forEach(function(e){i.hasOwnProperty(e)&&(t[e]=i[e])}),t.content||(i.callout?t.content=i.callout:this.$element.attr("title")&&(t.content=this.$element.attr("title"))),t},_getLocation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$element,i=this.modalOffset,o=t[0]===window,n={height:o?t.height():t.outerHeight(!1),width:o?t.width():t.outerWidth(!1),scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()-i};if(o)n.padding=e.staticProperties.windowPadding;else{var a=t.offset();n.bottom=a.top+n.height-i,n.center=a.left+n.width/2,n.left=a.left,n.middle=a.top+n.height/2-i,n.right=a.left+n.width,n.top=a.top-i}return n},_getModalOffset:function(){var e=0;if(this.inModal){var i=t("#modalFixed");e=i.offset().top-i.scrollTop()}return e},_getPositionClass:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.position;return"calloutPosition"+ui.ucfirst(t)},_handleAutoFocus:function(){var e=this.config;if(!0!==e.disableAutofocusOnOpen)if("hover"!==e.type&&ui.getTabbableElements(this.$content).length){if(!this._isFocusWithinCallout()&&"field"!==e.type){var i=t(this.inModal?"#modalFixed":window),o=i.scrollTop();this.$content.focus();var n=i.scrollTop();if(n!==o){var a=this.inModal?i:t("body, html");a.scrollTop(o)}}}else this.$content.attr("role","alert")},_handleHtmlClick:function(e,i){var o=t(e.target),n=o.closest(".autocompleteResult").length>0,a=o.closest("#callout").length>0,s=o.closest(this.$element).length>0;if(!a&&!n&&!s)if("click"===e.type)this.close();else{var l=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,r=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,c=Math.abs(i.x-l),u=Math.abs(i.y-r),h="field"!==this.config.type&&Math.max(c,u)<5;h&&this.close()}},_handleTabPress:function(t){var e=document.activeElement,i=e.getAttribute("name"),o="radio"===e.getAttribute("type"),n=e===this.$content[0],a=ui.getTabbableElements(this.$content),s=a.first(),l=a.last(),r=e===s[0]||o&&i===s.attr("name"),c=e===l[0]||o&&i===l.attr("name"),u=t.shiftKey&&(n||r),h=!t.shiftKey&&c;(u||h)&&(this.$element.focus(),this.close())},_hasSpace:function(e){var i=this._getPositionClass(e);this.$wrap.addClass(i);var o=this._getLocation(),n=this._getLocation(this.$wrap),a=this._getLocation(t(window)),s={bottom:function(){return a.height+a.scrollTop-a.padding-o.bottom>n.height},left:function(){var t=a.padding+a.scrollLeft;return o.left-t>n.width},right:function(){return a.padding+a.scrollLeft+a.width-o.right>n.width},top:function(){var t=a.padding+a.scrollTop;return o.top-t>n.height}};return this.$wrap.removeClass(i),s[e]()},_initClasses:function(){var t=this.config;this.$element.addClass("calloutTrigger"),"dark"===t.style?this.$wrap.addClass("bgDark calloutStyleDark"):"alt"===t.style&&this.$wrap.addClass("calloutStyleAlt"),t.classes&&this.$content.addClass(t.classes),t.calloutClasses&&this.$wrap.addClass(t.calloutClasses),t.hidePointer&&this.$wrap.addClass("calloutHidePointer"),"field"===t.type?this.$wrap.addClass("calloutTypeField"):"guidance"===t.type&&(this.$wrap.addClass("guidance"),this.$element.addClass("guidanceTrigger"))},_inView:function(){var t=this._getLocation(),e=this._getLocation(this.$scrollable),i=t.middle<e.top,o=t.middle>e.bottom,n=t.center<e.left,a=t.center>e.right;return!(i||o||n||a)},_isFocusWithinCallout:function(){return t(document.activeElement).closest(this.$wrap).length},open:function(){if(!this.isOpen){var e=this.config;"guidance"!==e.type&&t.callout.close(!1),this.inModal=this.$element.closest("#modal").length>0,this._addOpenEvents(),this.inModal&&this.$callout.appendTo(".modalFlex.open"),ui.isValidCallback(e.onOpen)&&e.onOpen.apply(this.$element,[this.$element]),this.$wrap.addClass("open unpositioned"),this.inModal||this.$wrap.addClass("willTransform"),e.hidePointer||this.$pointer.addClass("willTransform"),this.$element.addClass("active"),"field"!==e.type&&this.$element.attr("aria-expanded",!0),this.position(),this._handleAutoFocus(),this.isOpen=!0,this.$element.trigger("opened.callout",this.$element),ui.isValidCallback(e.onAfterOpen)&&e.onAfterOpen.apply(this.$element,[this.$element])}},_parseContent:function(){var e=this.config.content;if("string"==typeof e)try{var i=t(e),o=e.substring(0,1),n=e.substring(e.length-1,e.length);i.closest("body").length?(e=i,this._createPlaceholder(i)):"<"===o&&">"===n||(e="<div>"+e+"</div>")}catch(t){e="<div>"+e+"</div>"}else e.jquery&&e.closest("body").length&&this._createPlaceholder(e);return e},position:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.position;this._resetPosition(),this._setWidth(),this.modalOffset=this._getModalOffset();var i=this._getBestPosition(e);this.$wrap.addClass(this._getPositionClass(i)),"cursor"===this.config.type?this.$element.off("mousemove.callout").on("mousemove.callout",ui.throttle(function(e){var o={pageX:e.pageX,pageY:e.pageY};t._applyPosition(i,o)},16)):this._applyPosition(i)},_removeCreateEvents:function(){this.$element.off(".callout.create")},_removeOpenEvents:function(){this.$element.off(".callout.open"),this.$wrap.add(this.$content).off(".callout"),t("html").add(window).off(".callout."+this.uniqueId),this.$scrollable.length&&this.$scrollable.off(".callout."+this.uniqueId)},_resetPosition:function(){this.$wrap.removeClass("calloutPositionBottom calloutPositionLeft calloutPositionRight calloutPositionTop").add(this.$content).add(this.$pointer).removeAttr("style")},_restorePlaceholder:function(){var e=t("#calloutPlaceholder-"+this.uniqueId);e.length&&e.replaceWith(t(this.config.content))},_setWidth:function(){var i=parseInt(this.$wrap.css("max-width"),10),o=t(window).outerWidth(!1)-2*e.staticProperties.windowPadding;i>o&&this.$wrap.css("max-width",o),this.config.width&&this.$wrap.css("width",this.config.width)},_startCloseTimer:function(){var t=this;this.closeTimeout=setTimeout(function(){!t.hovering&&t.isOpen&&t.close()},e.staticProperties.hideDelay)},_stopCloseTimer:function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},updateContent:function(t){this._restorePlaceholder(),this.config.content=t,this.$content.html(this._parseContent()),this.isOpen&&this.position()},updateWidth:function(t){this.config.width=t,this.isOpen&&this.position()}},staticProperties:{defaults:{calloutClasses:"",classes:"",content:"",disableAutofocusOnOpen:!1,hidePointer:!1,onClose:!1,onOpen:!1,position:"bottom",style:"light",type:"click",width:!1},hideDelay:100,langSets:{},windowPadding:5}};t.fn.callout=function(i){for(var o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var s="string"==typeof i,l=this;return this.each(function(o,a){var r=t(a);if(s){var c=r.data("calloutInstance");if(!c)return ui.warn('Cannot call methods on callout prior to initialization; attempted to call method "'+i+'".'),!1;if(!t.isFunction(c[i])||0===i.indexOf("_"))return ui.warn('No such method "'+i+'" for callout.'),!1;var u=c[i].apply(c,n);if(u!==c&&void 0!==u)return l=u&&u.jquery?l.pushStack(u.get()):u,!1}else e.create(r,i)}),l};var i=function(){return t('[data-callout]:not([data-auto-instantiate="off"])').callout()};t.callout={close:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&t.guidance&&t.guidance.close();var e=t(".calloutTrigger.active:not('.guidanceTrigger')");e.length&&e.callout("close")},getTest:function(){return _extends({},{autoInit:i},e)}},t(function(){return i()})}(jQuery),jQuery(function(t){var e=t("html"),i=function(t){t.keyCode===ui.keyCodes.tab&&e.removeClass("mouseEvents").off("keydown.outline").one("mousedown.outline",o)},o=function(){e.addClass("mouseEvents").on("keydown.outline",i)};e.one("mousedown.outline",o)}(jQuery)),function(t){if(t.validator)return void ui.warn("ERROR: You are including form.js multiple times");var e={create:function(t,e){var i=t.data("validatorInstance");return i&&i.destroy(),i=Object.create(this.proto),i.config=_extends({},this.staticProperties.defaults,e),i.$element=t,i.allowSubmit=!0,i.config.submitButton=i.config.submitButton||t.find('[type="submit"]').first(),i.addFields(i.config.fields,!1),i._prettifyFileInputs(),i._bindEvents(),t.attr("novalidate","novalidate").data("validatorInstance",i),i},proto:{addFields:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var i in t)if(t.hasOwnProperty(i)){var o=document.getElementById(i);if(o){if(e&&(this.config.fields[i]&&this._destroyField(i),this.config.fields[i]=t[i]),"input"===o.tagName.toLowerCase()&&"file"===o.type){var n=document.querySelectorAll("label[for="+i+"].fileBtn");0===n.length&&this._prettifyFileInputs(i,o)}this._initField(i,t[i])}}},_bindEvents:function(){var t=this,e="input, label, legend, select, textarea";this.$element.on("validation-message.form",e,function(e,i,o){var n=t.config.fields[e.currentTarget.id];if(!n)return!1;n.$label.attr("data-error-index",o),t._updateValidationMessage(e.currentTarget.id,i)}).on("validation-error-index.form",e,function(e,i){var o=t.config.fields[e.currentTarget.id];if(!o)return!1;o.$label.attr("data-error-index",i)}).on("validation-remove.form",e,function(e){if(!t.config.fields[e.currentTarget.id])return!1;t._destroyField(e.currentTarget.id)}).on("validation.form",e,function(e){if(!t.config.fields[e.currentTarget.id])return!1;t._validateInput(e.currentTarget.id,e)}).on("submit.form",function(){return!(!t._validateForm().success||!t.allowSubmit||(t.allowSubmit=!1,setTimeout(function(){t.config.submitButton.attr("disabled","disabled").addClass("disabled")}),t.config.allowMultipleSubmissions&&setTimeout(function(){t.allowSubmit=!0,t.config.submitButton.removeAttr("disabled").removeClass("disabled")},1e3),0))})},_createOrUpdatePasswordCallout:function(i){var o=this,n=t(".callout.open"),a=e.staticProperties;if(this.passwordRules&&n.length&&n.find('.calloutMenu[id^="password-rules"]').length&&n.find(".calloutContent").length)this.$passwordRulesList.attr("role","alert"),n.find(".calloutContent").html(this.$passwordRulesList),a.passPolicy.Rules.forEach(function(t,e){if(t.Regex){var n=new RegExp(t.Regex),s=n.test(i.val()),l=o.passwordRules[e];if(s!==l.hasClass("calloutMenuChecked")){l.toggleClass("calloutMenuChecked iconAfter iconAfterCheck calloutMenuUnchecked");var r=ui.localize(a.langSets,s?"policyMet":"policyNotMet");l.find(".hideVisually").html(r)}}});else{this.passwordRules=[];var s=t('<div class="calloutMenu" id="password-rules-'+ui.getRandomNumber()+'">');a.passPolicy.Rules.forEach(function(e){if(e.Regex){var n=new RegExp(e.Regex),l=n.test(i.val()),r=ui.localize(a.langSets,l?"policyMet":"policyNotMet"),c=t('<div class="calloutMenuItem">');l?c.addClass("calloutMenuChecked iconAfter iconAfterCheck"):c.addClass("calloutMenuUnchecked"),c.append('<span class="hideVisually">'+r+"</span>"+e.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),o.passwordRules.push(c),s.append(c)}else{var u=t('<div class="calloutMenuUnchecked calloutMenuItem">');u.append('<span class="hideVisually">'+ui.localize(a.langSets,"policyNotMet")+"</span>"+e.FailureCode_locale.LocaleString+'<span class="hideVisually"> - </span>'),o.passwordRules.push(u),s.append(u)}}),this.$passwordRulesList=s,i.callout({content:s,classes:"errorCallout passwordValidationMenu",style:"light"}).callout("open")}},destroy:function(){var t=this.config.fields;for(var e in t)t.hasOwnProperty(e)&&this._destroyField(e);this.$element.off(".form").removeData("validatorInstance")},_destroyField:function(t){var e=this.config.fields[t],i=e.$field;i&&(this._removeErrorAndSuccess(t),i.off(".form").removeAttr("aria-labelledby")),e.collection&&e.collection.removeAttr("aria-labelledby"),this.config.fields[t]=null,delete this.config.fields[t]},_getPasswordRules:function(){if(0===Object.keys(e.staticProperties.passPolicy).length){var i=this.$element.closest("[lang]");e.staticProperties.langHeader=i.length?i.attr("lang"):"en",t.ajax({beforeSend:function(t){t.setRequestHeader("Accept-Language",e.staticProperties.langHeader)},dataType:"json",success:function(t){e.staticProperties.passPolicy=t},url:"https://gateway.ancestry.com/passwordpolicy/web/v1.0/policies/acom?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl"})}},_initField:function(e,i){var o=this,n=this.$element.find("#"+e);if(n){var a=this.config.fields[e],s="password"===a.pattern;s&&(this._getPasswordRules(),a.errorLocation="callout",a.when="input",n.off("focus.form").on("focus.form",function(t){o._validateInput(e,t)}).off("blur.form").on("blur.form",function(){t(".callout.open").length&&n.callout("destroy")}));var l=t('label[for="'+e+'"]').first();if(!l.length){var r=n.closest("fieldset");l=r?r.find("legend"):n}if(n.is("legend")?(l=n,n=i.collection,i.when="submit"!==i.when?"blur change":"submit"):n.is('[type="checkbox"]')?(i.collection=n,i.when="submit"!==i.when?"blur change":"submit"):n.is('[type="file"]')?i.when=i.when||"change":i.when||(i.when="blur"),!0===i.required&&n.attr("aria-required",!0),"submit"!==i.when){var c=i.when.split(" ").join(".form ");c+=".form",s&&(this.debouncePasswordCheck=ui.debounce(function(){o._validateOnServer(n.val(),o,function(t){return o._updateValidationMessage(e,t)})},600)),n.on(c,function(t){o._validateInput(e,t)})}a.$field=n,a.$label=l,l.attr("data-error-index")?this._updateValidationMessage(e,!1):n.val()&&!n.is('[type="checkbox"], [type="radio"], [type="submit"]')&&this._updateValidationMessage(e,!!this._isValid(e))}},_isValid:function(e,i){var o=this.config.fields[e],n=o.$field,a=n.val().trim();if(n.is('[type="file"]')&&(a=t.map(n[0].files,function(t){return t.name})),ui.isValidCallback(o.pattern))return o.pattern(a,n,!!o.required,i||{type:"validation"});if(n.is('[type="checkbox"], [type="radio"]'))return this._validateCollection(o.collection,o.required);if(o.required||a.length){if(!a.length||o.extensions&&!t.validator.extensions(a,o.extensions)||o.match&&!t.validator.match(a,o.match)||o.minLength&&!t.validator.minLength(a,o.minLength)||o.maxLength&&!t.validator.maxLength(a,o.maxLength))return"password"===o.pattern&&(this.isPasswordValidFromServer=!1),!1;if(o.pattern)return t.validator[o.pattern](a,this)}return!0},_prependProtocol:function(t){var e=this.config.fields[t].$field,i=e.val();i&&-1===i.indexOf("://")&&e.val("http://"+i)},_prettifyFileInputs:function(){this.$element.find('input[type="file"]').each(function(i,o){var n=t(o);if(n.data("usesFilePolyfill"))return!0;var a=ui.localize(e.staticProperties.langSets,o.hasAttribute("multiple")?"chooseFiles":"chooseFile");n.data("usesFilePolyfill",!0).after('<label class="ancBtn fileBtn silver" for="'+n.attr("id")+'">'+a+'</label><span class="filename"></span>').on("change.polyfill",function(){var e=t.map(o.files,function(t){return t.name}).join(", ");n.siblings(".filename").html(e)})})},_removeErrorAndSuccess:function(t){var e=this.config.fields[t],i=e.$field;i.removeClass("error success inform").removeAttr("aria-invalid"),e.$label.removeClass("error success inform"),e.collection&&e.collection.removeClass("error success inform"),e.$errorMessage&&(e.$errorMessage.remove(),e.$errorMessage=null),e.hasErrorCallout&&jQuery().callout&&"password"!==e.pattern&&(i.callout("destroy"),e.hasErrorCallout=!1,i.attr("data-callout")&&i.callout())},removeFields:function(t){for(var e="string"==typeof t?[t]:t,i=0,o=e.length;i<o;i++)this._destroyField(e[i])},_updateValidationMessage:function(i,o){var n=this.config.fields[i],a=n.$label,s=n.$field;if(this._removeErrorAndSuccess(i),!0===o)n.collection&&n.collection.removeAttr("aria-invalid aria-labelledby").addClass("success"),s.removeAttr("aria-invalid aria-labelledby").addClass("success"),"password"===n.pattern&&t(".callout.open").length&&s.callout("destroy"),a.addClass("success");else if(!1===o||"info"===o){var l=a.attr("id");l||(l="label-"+ui.getRandomNumber(),a.attr("id",l));var r="info"===o?"inform":"error",c=l+"ErrorMessage";n.collection?n.collection.each(function(e,i){var o=t(i),n=o.attr("id"),a=t('label[for="'+n+'"]'),s=a.attr("id");s||(s="label-"+ui.getRandomNumber(),a.attr("id",s)),setTimeout(function(){o.attr("aria-labelledby",s+" "+c)},50)}):setTimeout(function(){s.attr("aria-labelledby",a.attr("id")+" "+c)},50),s.addClass(r).attr("aria-invalid",!0),a.addClass(r);var u=a.attr("data-error-index")||0,h=t.trim((a.attr("data-error")||"").split("|")[u]),d=void 0;if("callout"===n.errorLocation&&jQuery().callout){if(d=t('<span class="errorMessage icon iconWarning" />'),a.append(d),!n.collection){n.hasErrorCallout=!0,""!==h&&s.callout({content:h,classes:"errorCallout"});var f="password"===n.pattern;f&&e.staticProperties.passPolicy.Rules?document.activeElement!==s[0]||this.isPasswordValidFromServer||this._createOrUpdatePasswordCallout(s):(t(".callout.open").length&&s.callout("destroy"),s.callout({content:h,classes:"errorCallout "+(f?"passwordValidationMenu":""),calloutStyle:f?"light":"dark"}).callout("open"))}var p=t('<div class="noDisplay" id="'+c+'">'+h+"</div>");a.parent().append(p),d=d.add(p)}else"below"===n.errorLocation||"callout"===n.errorLocation?(d=t('<div class="errorMessage icon iconWarning" id="'+c+'">'+h+"</div>"),a.parent().append(d)):(d=t('<span class="errorMessage icon iconWarning">'+h+"</span>"),-1===a.text().indexOf(h)&&a.append(d));n.$errorMessage=d}a.removeAttr("data-error-index")},_validateCollection:function(t,e){return Number(e)<=t.filter(":checked").length},_validateForm:function(){var e=!1,i=!1,o={success:!0,errorFieldLabels:[]},n=this.config.fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=s.$field,r=s.$label;if(0!==l.length){var c=this._validateInput(a);c&&"info"!==c||(!1===e&&(e=r,i=l),o.success=!1)}else n[a]=null,delete n[a]}if(!o.success&&e){var u=t(document),h=e.offset().top;h<(t("html").scrollTop()||u.scrollTop())&&u.scrollTop(h),i.focus()}return ui.isValidCallback(this.config.onSubmit)&&(o.success=!!this.config.onSubmit(o.success,this.$element)),o},_validateInput:function(t,e){"url"===this.config.fields[t].pattern&&this._prependProtocol(t);var i=this._isValid(t,e);return"delay"===i||"info"===i?this._updateValidationMessage(t,i):i?this.config.fields[t].$field.val()?this._updateValidationMessage(t,!0):this._removeErrorAndSuccess(t):this._updateValidationMessage(t,!1),i},_validateOnServer:function(i,o,n){var a=JSON.stringify({Password:i,PolicyId:"acom"}),s=function(t){o.isPasswordValidFromServer=!!t.IsValid,n(o.isPasswordValidFromServer)};t.ajax({beforeSend:function(t){t.setRequestHeader("Accept-Language",e.staticProperties.langHeader)},data:a,dataType:"json",success:s,type:"POST",url:"https://gateway.ancestry.com/passwordpolicy/web/v1.0/validate?client=YzU1MjlmMTQzNDg0OTQyMzM1YzUzNDk2MWVhNjQ4ZWViNDM1M2ZhNys3OGRkMTRmZTJlNDFlYjMzZDNkZTVlMmQ3NGM2OTRmY2Q2NjFjODA0MWIyZDdlZTdiZjA3Zjk3NjRjYzAxOTRl"}).fail(function(){return n(!0)})}},staticProperties:{defaults:{allowMultipleSubmissions:!1,submitButton:null,onSubmit:!1,fields:{}},langSets:{de:{chooseFile:"Datei ausw&#228;hlen",chooseFiles:"W&#228;hle Dateien",errorMsg:"Es liegen Feldfehler vor:",policyMet:"Richtlinie eingehalten:",policyNotMet:"Richtlinie nicht eingehalten:"},en:{chooseFile:"Choose file",chooseFiles:"Choose files",errorMsg:"There are errors on these fields:",policyMet:"Policy met:",policyNotMet:"Policy not met:"},es:{chooseFile:"Selecciona un archivo",chooseFiles:"Seleccionar archivos",errorMsg:"Hay campos con errores:",policyMet:"Se cumple la política:",policyNotMet:"No se cumple la política:"},fr:{chooseFile:"Choisir le fichier",chooseFiles:"Choisir les fichiers",errorMsg:"Il y a d&#8217;erreurs dans ces champs:",policyMet:"Exigences satisfaites :",policyNotMet:"Exigences non satisfaites :"},it:{chooseFile:"Scegli file",chooseFiles:"Scegli file",errorMsg:"Ci sono errori in questi campi:",policyMet:"Normativa soddisfatta:",policyNotMet:"Normativa non soddisfatta:"},sv:{chooseFile:"V&#228;lj fil",chooseFiles:"V&#228;lja filer",errorMsg:"Det uppstod fel f&#246;r dessa f&#228;lt:",policyMet:"Policy uppfylls:",policyNotMet:"Policy uppfylls inte:"}},passPolicy:{}}};t.fn.validator=function(i){if("string"==typeof i){var o=this.data("validatorInstance");if(!o)return ui.warn('Cannot call methods on validator prior to initialization; attempted to call method "'+i+'".'),!1;if(!t.isFunction(o[i])||0===i.indexOf("_"))return ui.warn('No such method "'+i+'" for validator.'),!1;for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var l=o[i].apply(o,a);if(l!==o&&void 0!==l)return l&&l.jquery?this.pushStack(l.get()):l}else e.create(this,i);return this},t.validator={extensions:function(t,e){for(var i="string"==typeof t?[t]:t,o=e.map(function(t){return t.toLowerCase()}),n=0,a=i.length;n<a;n++)if(-1===o.indexOf(i[n].toLowerCase().split(".").pop()))return!1;return!0},email:function(t){return/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(t)},getTest:function(){return _extends({},e)},match:function(e,i){return e===t("#"+i).val()},maxLength:function(t,e){return t.length<=e},minLength:function(t,e){return t.length>=e},number:function(t){return/^[0-9]*(\.[0-9]+)?$/.test(t)},password:function(t,i){var o=!0,n=!1,a=e.staticProperties.passPolicy.Rules;return a&&(a.forEach(function(e){if(e.Regex){var i=new RegExp(e.Regex);o=o&&i.test(t)}else n=!0}),o?n&&(o=i.isPasswordValidFromServer,i.debouncePasswordCheck&&i.debouncePasswordCheck()):i.isPasswordValidFromServer=!1),o},tel:function(t){return/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(t)},url:function(t){return/^(http|https|ftp):\/\/(([A-Z0-9][A-Z0-9_-]*)(\.[A-Z0-9][A-Z0-9_-]*)+)(:(\d+))?\/?/i.test(t)},uncachePasswordRules:function(){e.staticProperties.passPolicy={}}}}(jQuery),function(t){if(t.modal)return void ui.warn("ERROR: You are including modal.js multiple times");var e={create:function(e,i){if(void 0===e||0===e.length)return ui.warn("Modal contents not found. Check your selector."),!1;var o=e.data("modalInstance");o&&o.destroy();var n=t("body");t("#modal").length||n.append('<section id="modal"><div class="modalFixed" id="modalFixed"></div></section>'),o=Object.create(this.proto),o.config=_extends({},this.staticProperties.defaults,i);var a=o.config;return o.$element=e,o.uniqueId=e.attr("id")||"modal-"+ui.getRandomNumber(),o.isOpen=!1,o.dynamic=!n.find(e).length,o.iOSFix=window.navigator.userAgent.match(/iPhone|iPad|iPod/i),a.useCustomPadding=a.useCustomPadding||a.isMarketing,o._generateMarkup(),e.data("modalInstance",o),a.open&&o.open(),o},proto:{_addEvents:function(){var e=this,i=this.config;i.closeOnBkgClick&&this.$modal.on("click.modal."+this.uniqueId,function(i){!e.preventBgClickClose&&t(i.target).hasClass("modalFlex")&&e.close(),e.preventBgClickClose=!1}),i.closeOnEscape&&this.$modal.on("keydown.modal."+this.uniqueId,function(t){if(t.which===ui.keyCodes.esc)return e.close(),!1}),this.$close&&this.$close.on("click.modal",function(){e.close()}),this.$content.on("click.modal",function(){e.preventBgClickClose=!0}).on("keydown.modal",function(t){if(t.which===ui.keyCodes.tab){var i=ui.getTabbableElements(e.$content);if(!i.length)return!1;var o=i.first(),n=i.last();if(t.shiftKey&&o.is(":focus"))return n.focus(),!1;if(!t.shiftKey&&n.is(":focus"))return o.focus(),!1}})},close:function(){this.isOpen&&(this._hideContent(),this.leaveBackground||this._hideBackground())},destroy:function(){this.close(),this.$content.removeClass("modalCustomPadding").removeAttr("style"),this.$flex.removeAttr("style"),this.$element.removeData("modalInstance"),this.dynamic&&this.$flex.remove()},_generateMarkup:function(){this.$modal=t("#modal"),this.$fixed=t("#modalFixed"),this.$element.addClass("modal");var i=this.config;if(t("#modal-"+this.uniqueId).length)this.$flex=t("#modal-"+this.uniqueId),this.$content=t("#modalContent-"+this.uniqueId),i.hideCloseBtn||(this.$close=this.$content.find(".modalClose"));else{if(this.$flex=t('<div class="modalFlex" id="modal-'+this.uniqueId+'" tabIndex="-1" />'),this.$content=t('<div class="modalContents" id="modalContent-'+this.uniqueId+'" />').appendTo(this.$flex),this.$element.appendTo(this.$content),!i.hideCloseBtn){var o=this.config.bgDarkClose?" bgDark":"";this.$close=t('<button class="closeBtn modalClose'+o+'" type="button" />').attr("title",ui.localize(e.staticProperties.langSets,"closeBtn")).appendTo(this.$content)}this.$fixed.append(this.$flex)}},_hideBackground:function(){t("html").removeClass("modalOpen iOSFix"),t("body").css("padding-right",""),this.windowPosition&&t("html, body").scrollTop(this.windowPosition),this.$modal.removeAttr("style aria-expanded");var e=this.config;this.$initialTrigger?this.$initialTrigger.focus():e.$trigger&&e.$trigger.focus()},_hideContent:function(){this.$flex.removeClass("open"),this.showLoading(!1);var t=this.config;t.onClose&&ui.isValidCallback(t.onClose)&&t.onClose.apply(this.$element,[this.$element]),this.isOpen=!1,this.$element.removeClass("active").trigger("closed.modal"),this.leaveBackground=!1,this._removeEvents(),this.dynamic&&this.destroy()},open:function(){if(!this.isOpen){var e=t.modal.getActive();if(e&&!e.$element.is(this.$element))return e.leaveBackground=!0,e.windowPosition&&(this.windowPosition=e.windowPosition),e.$initialTrigger&&(this.$initialTrigger=e.$initialTrigger||e.config.$trigger),e._hideContent(),void this._showContent();this.$initialTrigger=!1,this.iOSFix&&(this.windowPosition=t(window).scrollTop(),t("html").addClass("iOSFix")),this._showBackground(),this._showContent()}},preventClose:function(){this.preventBgClickClose=!0},_removeEvents:function(){this.$modal.add(window).off(".modal."+this.uniqueId),this.$content.add(this.$flex).add(this.$close).off(".modal")},resize:function(t){var e="";if(t)if(isNaN(t))e=t;else{var i=parseInt(t,10),o=this.config.useCustomPadding?0:parseInt(this.$content.css("padding-left"),10)+parseInt(this.$content.css("padding-right"),10);e=i+o}this.$content.css("width",e),this.config.width=t},_showBackground:function(){var e=t(window).width(),i=0,o=t("body");t("html").addClass("modalOpen"),i=t(window).width()-e;var n=parseInt(o.css("padding-right"),10)+i;o.css("padding-right",n+"px"),this.$modal.attr("aria-expanded","true")},_showContent:function(){var e=this;this.preventBgClickClose=!0,this.$element.addClass("active"),this._addEvents();var i=this.config;this.showLoading(i.showLoading),i.width&&this.resize(i.width),i.useCustomPadding&&this.$content.addClass("modalCustomPadding"),i.hideCloseBtn&&this.$content.addClass("modalHideClose"),this.iOSFix&&t("html, body").scrollTop(0),this.$flex.addClass("open").focus(),this.$fixed.scrollTop(0),i.onOpen&&ui.isValidCallback(i.onOpen)&&i.onOpen.apply(this.$element,[this.$element]),this.isOpen=!0,this.$element.trigger("opened.modal");setTimeout(function(){e.preventBgClickClose=!1},300)},showLoading:function(t){t?this.$content.addClass("loading"):this.$content.removeClass("loading")}},staticProperties:{defaults:{bgDarkClose:!1,
closeOnBkgClick:!0,closeOnEscape:!0,hideCloseBtn:!1,isMarketing:!1,onClose:!1,onOpen:!1,open:!0,showLoading:!1,width:"",$trigger:!1},langSets:{de:{closeBtn:"Schlie&#223;en"},en:{closeBtn:"Close"},es:{closeBtn:"Cerrar"},fr:{closeBtn:"Fermer"},it:{closeBtn:"Chiudi"},sv:{closeBtn:"St&#228;ng"}}}};t.fn.modal=function(){for(var i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s="string"==typeof a,l=this;return this.length>1&&!s&&!1!==a.open&&ui.warn("Warning: It is recommended to only instantiate a single modal at a time since only the last one is displayed."),this.each(function(i,n){var r=t(n);if(s){var c=r.data("modalInstance");if(!c)return ui.warn('Cannot call methods on modal prior to initialization; attempted to call method "'+a+'".'),!1;if(!t.isFunction(c[a])||0===a.indexOf("_"))return ui.warn('No such method "'+a+'" for modal.'),!1;var u=c[a].apply(c,o);if(u!==c&&void 0!==u)return l=u&&u.jquery?l.pushStack(u.get()):u,!1}else e.create(r,a)}),l},t.modal={center:function(){ui.warn('The "$.modal.center" method has been deprecated. Use $.modal.scrollTop(value) when you are transitioning tall content.'),t.modal.scrollTop(0)},close:function(){var t=this.getActive();t&&t.close()},getActive:function(){return t(".modal.active").data("modalInstance")},getTest:function(){return _extends({},e)},preventClosing:function(){var t=this.getActive();t&&t.preventClose()},resize:function(t){var e=this.getActive();e&&e.resize(t)},scrollTop:function(e){t("#modalFixed").scrollTop(e||0)},showLoading:function(t){var e=this.getActive();e&&e.showLoading(t)}}}(jQuery),function(t){if(t.tabs)return void ui.warn("ERROR: You are including tab.js multiple times");var e={create:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.data("tabsInstance");return o&&o.destroy(),!0===e.data("allow-urls")&&(i.allowUrls=!0),o=Object.create(this.proto),o.config=_extends({},this.staticProperties.defaults,i),o.$element=e,o.tabsName=e.data("tab"),o.isVertical=o._getVertical(),o.activeIndex=o._getActiveIndex(),o.overflowBound=!1,o.$tabs=e.children(".tab"),o.$tabGroup=t('[data-tab-group="'+o.tabsName+'"]'),o.$tabContents=o.$tabGroup.children(".tabContent"),o.$tabContents.attr("tabindex","-1"),t(window).on("resize.tabs."+o.tabsName,ui.debounce(function(){return o._handleResize()},100)),e.on("click.tabs",".tab",function(t){return o._handleTabClick(t)}),e.on("keydown.tabs",".tab",function(t){return o._handleTabKeydown(t)}),o._updateTabs(),o._applyAriaRoles(),o._removeButtonClasses(),o._triggerClickOnUrlTab(),o.delayedCheckOverflow=setTimeout(function(){void 0===o.overflow&&(o._measureWidths(),o._checkOverflow())},500),e.data("tabsInstance",o),o},proto:{_addOverflow:function(){this._createOverflowElements(),this._bindOverflowEvents(),this._measureWidths(),this._centerTab()},_animateHorizontalScroll:function(t){var e=Math.ceil(.75*this.elementWidth),i=this.$element.scrollLeft(),o="left"===t?i-e:i+e;this.$element.animate({scrollLeft:o},250)},_applyAriaRoles:function(){var e=this;this.$element.attr("role",this.$element.attr("role")||"tablist"),this.$tabs.each(function(i,o){var n=t(o),a=e.tabsName||"Tabs"+ui.getRandomNumber(),s=n.hasClass("tabActive"),l=e.$tabContents.eq(i),r=i+"-"+ui.getRandomNumber(),c=l.attr("id")||a+"TabPanel"+r;n.attr({id:n.attr("id")||e.tabsName+"Tab"+r,role:n.attr("role")||"tab","aria-controls":n.attr("aria-controls")||c,"aria-selected":n.attr("aria-selected")||s,"aria-expanded":s}),l.attr({id:c,role:l.attr("role")||"tabpanel","aria-labelledby":l.attr("aria-labelledby")||n.attr("id"),"aria-hidden":!s})})},_bindOverflowEvents:function(){var t=this;this.$element.on("scroll.tabs",ui.throttle(function(){return t._handleOverflowScroll()},100)),this.$overflowLeftButton.on("click.tabs",ui.debounce(function(){return t._animateHorizontalScroll("left"),!0},250,!0)),this.$overflowRightButton.on("click.tabs",ui.debounce(function(){return t._animateHorizontalScroll("right"),!0},250,!0)),this.overflowBound=!0},_centerTab:function(){if(this.overflow){var t=this.$tabs.eq(this.activeIndex),e=t.outerWidth(!1),i=t.position().left,o=this.$element.scrollLeft(),n=parseInt(this.$element.css("padding-left"),10),a=parseInt(t.css("margin-left"),10),s=(this.elementWidth-e)/2;this.$element.animate({scrollLeft:o+i-n+a-s},250)}},_checkOverflow:function(){this.overflow=this._getOverflow(),this.overflow?(this.overflowBound||this._addOverflow(),this._handleOverflowScroll()):this.overflowBound&&this._removeOverflow()},_checkSubTabs:function(){var e=this.$tabContents.eq(this.activeIndex),i=e.find(".tabs");i.length&&i.each(function(e,i){var o=t(i);o.data("tabsInstance")?o.tabs("resize"):"off"!==o.data("auto-instantiate")&&o.tabs()})},_clearActiveTab:function(){this.$tabs.removeClass("tabActive active tabLast tabFirst").attr({"aria-selected":"false","aria-expanded":"false"}),this.$tabContents.removeClass("tabActive active").attr("aria-hidden","true")},_createOverflowElements:function(){var e=this.$element.hasClass("tabsVertical")?" hasVerticalTabs":"";this.$element.wrap('<div class="tabsScrollable'+e+'" />'),this.$overflow=this.$element.parent(),this.$overflowLeftButton=t('<button class="icon iconArrowLeft tabsOverflowBtn" aria-hidden="true" tabindex="-1" type="button" />'),this.$overflowRightButton=t('<button class="icon iconArrowRight tabsOverflowBtn" aria-hidden="true" tabindex="-1" type="button" />'),this.$overflowLeftButton.insertBefore(this.$overflow),this.$overflowRightButton.insertAfter(this.$overflow)},destroy:function(){clearTimeout(this.delayedCheckOverflow),this._removeOverflow(),this.$element.off(".tabs"),this._removeAriaRoles(),t(window).off(".tabs."+this.tabsName),this.$element.removeData("tabsInstance")},_getActiveIndex:function(){var t=this.config,e=void 0;if(!1!==t.activeIndex)e=t.activeIndex;else if(t.active)e=t.active-1;else{var i=this.$element.find(".tabActive");e=i.length?i.index():0}return e},_getElementWidth:function(){var t=this.$element.outerWidth(!1),e=parseInt(this.$element.css("padding-left"),10),i=parseInt(this.$element.css("padding-right"),10);return Math.max(0,t-(e+i))},_getOverflow:function(){return!(this.isVertical||this.$element.is(":hidden")||this.config.overrideOverflow)&&this.tabsWidth>this.elementWidth},_getTabsWidth:function(){var e=0;return this.$tabs.each(function(i,o){e+=t(o).outerWidth(!0)}),e},_getVertical:function(){var e=t(window).width(),i=!this.$element.hasClass("tabs480")&&!this.$element.hasClass("tabs320"),o=this.$element.hasClass("tabs480")&&e>=768,n=this.$element.hasClass("tabs320")&&e>=480;return this.$element.hasClass("tabsVertical")&&(i||o||n)},_handleOverflowScroll:function(){if(this.$overflow){var t=this.$element.scrollLeft();t<this.tabsWidth-this.elementWidth-5?(this.$overflow.addClass("tabsOverflowRight"),this.$overflowRightButton.addClass("tabsOverflowBtnVisible")):(this.$overflow.removeClass("tabsOverflowRight"),this.$overflowRightButton.removeClass("tabsOverflowBtnVisible")),t>5?(this.$overflow.addClass("tabsOverflowLeft"),this.$overflowLeftButton.addClass("tabsOverflowBtnVisible")):(this.$overflow.removeClass("tabsOverflowLeft"),this.$overflowLeftButton.removeClass("tabsOverflowBtnVisible"))}return!0},_handleResize:function(){return this.isVertical=this._getVertical(),this._measureWidths(),this._checkOverflow(),!0},_handleTabClick:function(e){var i=t(e.currentTarget);if(i.index()===this.activeIndex)return!1;var o=this.config,n=i.attr("href");return!o.allowUrls&&n&&0!==n.indexOf("#")&&0!==n.indexOf("javascript")?(window.location=n,!1):(this.activeIndex=i.index(),this._updateTabs(),!o.allowUrls)},_handleTabKeydown:function(e){var i=t(e.currentTarget),o=e.which;return o===ui.keyCodes.left?i.prev().focus():o===ui.keyCodes.right&&i.next().focus(),!0},_measureWidths:function(){this.tabsWidth=this._getTabsWidth(),this.elementWidth=this._getElementWidth()},_removeAriaRoles:function(){this.$element.removeAttr("role"),this.$tabs.removeAttr("role aria-controls aria-selected aria-expanded"),this.$tabContents.removeAttr("role aria-labelledby aria-hidden")},_removeButtonClasses:function(){this.$tabs.hasClass("ancBtnL")&&this.$element.addClass("tabsConnected"),this.$tabs.hasClass("ancBtn")&&ui.warn("The ancBtn class should not be used on tabs."),this.$tabs.removeClass("ancBtn ancBtnL ancBtnM ancBtnR silver")},_removeOverflow:function(){this.$overflow&&this.$overflow.hasClass("tabsScrollable")&&(this.$element.unwrap(),this.$overflowLeftButton.remove(),this.$overflowRightButton.remove(),this.$overflow=!1,this.$overflowLeftButton=!1,this.$overflowRightButton=!1,this._measureWidths()),this._removeOverflowEvents()},_removeOverflowEvents:function(){this.$element.off("scroll.tabs"),this.overflowBound=!1},resize:function(){this._handleResize()},_setActiveContent:function(){this.$tabContents.eq(this.activeIndex).addClass("tabActive active").attr("aria-hidden","false");var e=this.config;e.onOpen&&t.isFunction(e.onOpen)&&e.onOpen.apply(this.$element,[this.activeIndex,this.$tabContents.eq(this.activeIndex)]),this._checkSubTabs()},_setActiveTab:function(){this.$tabs.eq(this.activeIndex).addClass("tabActive active").attr({"aria-selected":"true","aria-expanded":"true"})},_triggerClickOnUrlTab:function(){var e=this,i=this.config;!i||isNaN(parseInt(i.active,10))&&isNaN(parseInt(i.activeIndex,10))||window.location.hash&&t('.tab[data-label="'+window.location.hash.replace("#","")+'"], .tab[href="'+window.location.hash+'"]').length||setTimeout(function(){e.$tabs.eq(e.activeIndex).trigger("click.tabs")},100)},_updateTabs:function(){this._clearActiveTab(),this._setActiveTab(),this._setActiveContent(),this._centerTab()}},staticProperties:{defaults:{active:!1,activeIndex:!1,allowUrls:!1,onOpen:!1,overrideOverflow:!1}}};t.fn.tabs=function(i){for(var o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];var s="string"==typeof i,l=this;return this.each(function(o,a){var r=t(a);if(s){var c=r.data("tabsInstance");if(!c)return ui.warn('Cannot call methods on tabs prior to initialization; attempted to call method "'+i+'".'),!1;if(!t.isFunction(c[i])||0===i.indexOf("_"))return ui.warn('No such method "'+i+'" for tabs.'),!1;var u=c[i].apply(c,n);if(u!==c&&void 0!==u)return l=u&&u.jquery?l.pushStack(u.get()):u,!1}else e.create(r,i)}),l},t.tabs={getTest:function(){return _extends({},e)}},t(function(){t(".tabs").filter(function(e){return!t(e).data("tabsInstance")&&"off"!==t(e).data("auto-instantiate")}).tabs(),window.location.hash&&t('.tab[data-label="'+window.location.hash.replace("#","")+'"], .tab[href="'+window.location.hash+'"]').trigger("click.tabs")})}(jQuery);
//# sourceMappingURL=core.js.map
